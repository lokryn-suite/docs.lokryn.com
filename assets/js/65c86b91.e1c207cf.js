"use strict";(globalThis.webpackChunkdocs_lokryn_com=globalThis.webpackChunkdocs_lokryn_com||[]).push([[839],{6780:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"pipe-audit/core/core-profiles","title":"Profiles","description":"Profiles define how Pipe Audit connects to different storage backends.","source":"@site/docs/pipe-audit/core/core-profiles.md","sourceDirName":"pipe-audit/core","slug":"/pipe-audit/core/profiles","permalink":"/docs/pipe-audit/core/profiles","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"core-profiles","title":"Profiles","sidebar_position":3,"slug":"/pipe-audit/core/profiles"},"sidebar":"docsSidebar","previous":{"title":"Quickstart","permalink":"/docs/pipe-audit/core/quickstart"},"next":{"title":"Contracts","permalink":"/docs/pipe-audit/core/contracts"}}');var r=s(4848),o=s(8453);const t={id:"core-profiles",title:"Profiles",sidebar_position:3,slug:"/pipe-audit/core/profiles"},c="Profiles",l={},d=[{value:"MinIO / S3-Compatible",id:"minio--s3-compatible",level:2},{value:"Azure Blob Storage",id:"azure-blob-storage",level:2},{value:"Google Cloud Storage",id:"google-cloud-storage",level:2},{value:"Best Practices",id:"best-practices",level:2}];function a(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"profiles",children:"Profiles"})}),"\n",(0,r.jsxs)(n.p,{children:["Profiles define how Pipe Audit connects to different storage backends.",(0,r.jsx)(n.br,{}),"\n","They are declared in ",(0,r.jsx)(n.code,{children:"profiles.toml"})," at the project root, and referenced by name in contracts."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"minio--s3-compatible",children:"MinIO / S3-Compatible"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[minio_raw]\nprovider   = "s3"\nendpoint   = "[http://developyr.local:9000](http://developyr.local:9000)"\nregion     = "us-east-1"\naccess_key = "${MINIO_ACCESS_KEY}"\nsecret_key = "${MINIO_SECRET_KEY}"\npath_style = true\nuse_ssl    = false\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Notes"})," - ",(0,r.jsx)(n.code,{children:"endpoint"})," points to your MinIO or S3-compatible service."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"region"})," is required even for MinIO."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"access_key"})," and ",(0,r.jsx)(n.code,{children:"secret_key"})," are injected from environment variables."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"path_style = true"})," is recommended for MinIO/localstack."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"use_ssl"})," toggles HTTPS."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"azure-blob-storage",children:"Azure Blob Storage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[azure_test]\nprovider = "azure"\nconnection_string = "${AZURE_STORAGE_CONNECTION_STRING}"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Notes"})," - ",(0,r.jsx)(n.code,{children:"connection_string"})," is pulled from the environment."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This is the simplest way to authenticate against Azure Blob Storage. This is set to use the account key connection string."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"google-cloud-storage",children:"Google Cloud Storage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[gcs_test]\nprovider = "gcs"\nservice_account_json = "${GCP_SERVICE_ACCOUNT_KEY}"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Notes"})," - ",(0,r.jsx)(n.code,{children:"service_account_json"})," should point to a service account key file, or inline JSON."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Typically set in ",(0,r.jsx)(n.code,{children:".env"})," as a path, e.g. ",(0,r.jsx)(n.code,{children:"GCP_SERVICE_ACCOUNT_KEY=/path/to/key.json"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Always reference secrets with ",(0,r.jsx)(n.code,{children:"${VAR_NAME}"})," so they can be injected from ",(0,r.jsx)(n.code,{children:".env"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"pipa profile list"})," to see available profiles."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"pipa profile test <PROFILE_NAME>"})," to verify connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:["Contracts reference profiles by name, e.g. ",(0,r.jsx)(n.code,{children:'profile = "minio_raw"'}),"."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);